import re
import string


with open("test") as t:
    data = t.read()

with open("out1", "w") as f:
    for ch in data:
        if ch in string.printable and ch.isalpha():
            f.write(ch)

with open("out", 'w') as f:
    min = 5
    i = 0
    ld = len(data)
    while(ld > i):
        ch = data[i]
        j = 0
        if data[i:i+min] == ch * min:
            while(data[i+min+j] == ch):
                j += 1

            i += min+j-1
            continue

        f.write(ch)
        i += 1
